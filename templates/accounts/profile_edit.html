{% extends "base.html" %}
{% load static %}

{% block title %}Profilni tahrirlash | TutorCRM{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto pt-10 px-4">
    <a href="{% url 'accounts:profile' %}" class="inline-flex items-center gap-2 text-slate-500 hover:text-indigo-400 text-[10px] font-black uppercase tracking-[0.2em] mb-6 transition-colors">
        <i class="fa-solid fa-arrow-left"></i>
        Profilga qaytish
    </a>

    <div class="bg-[#0a1631]/40 border border-white/5 backdrop-blur-xl rounded-[2.5rem] overflow-hidden shadow-2xl relative">
        
        <div class="h-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600"></div>

        <div class="p-8 md:p-12">
            <div class="text-center mb-10">
                <div class="inline-flex w-16 h-16 rounded-2xl bg-indigo-600/10 border border-indigo-500/20 items-center justify-center text-indigo-500 mb-4 shadow-[0_0_20px_rgba(79,70,229,0.1)]">
                    <i class="fa-solid fa-user-gear text-2xl"></i>
                </div>
                <h2 class="text-2xl font-black text-white tracking-tight">Profilni tahrirlash</h2>
                <p class="text-slate-500 text-xs mt-2 uppercase tracking-widest font-bold">Shaxsiy ma'lumotlaringizni yangilang</p>
            </div>

            <form method="post" class="space-y-6 relative z-10">
                {% csrf_token %}

                <div class="grid grid-cols-1 gap-6">
                    {% for field in form %}
                    <div class="space-y-2 group">
                        <label for="{{ field.id_for_label }}" 
                               class="block text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] ml-1 transition-colors group-focus-within:text-indigo-400">
                            {{ field.label }}
                        </label>
                        
                        <div class="relative">
                            {{ field }}
                            
                            {% if field.errors %}
                            <div class="mt-2 flex items-center gap-2 text-rose-500 animate-pulse">
                                <i class="fa-solid fa-circle-exclamation text-[10px]"></i>
                                <p class="text-[11px] font-bold">{{ field.errors|striptags }}</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <div class="pt-6">
                    <button type="submit"
                            class="w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-black uppercase tracking-widest text-xs rounded-2xl shadow-lg shadow-indigo-500/20 transition-all active:scale-[0.98] flex items-center justify-center gap-3">
                        <i class="fa-solid fa-cloud-arrow-up"></i>
                        O'zgarishlarni saqlash
                    </button>
                </div>
            </form>
        </div>

        <div class="absolute -top-24 -right-24 w-48 h-48 bg-purple-600/10 rounded-full blur-[80px]"></div>
    </div>
</div>

<style>
    /* Django form elementlari uchun global Cyber-style */
    input, select, textarea {
        width: 100% !important;
        background-color: rgba(5, 11, 26, 0.5) !important;
        border: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-radius: 1.25rem !important;
        padding: 0.875rem 1.25rem !important;
        color: white !important;
        font-size: 0.875rem !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }

    input:focus, select:focus, textarea:focus {
        outline: none !important;
        border-color: rgba(79, 70, 229, 0.5) !important;
        box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1), inset 0 0 10px rgba(79, 70, 229, 0.05) !important;
        background-color: rgba(5, 11, 26, 0.8) !important;
    }

    /* Error holatidagi inputlar */
    .has-error input {
        border-color: rgba(244, 63, 94, 0.5) !important;
    }
</style>
{% endblock %}